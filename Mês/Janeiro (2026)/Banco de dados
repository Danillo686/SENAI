	
	CREATE TABLE VEICULO(
	ID_VEIC SERIAL PRIMARY KEY,
	MODELO VARCHAR(50) NOT NULL,
	MARCA VARCHAR(20) NOT NULL,
	ANO INT NOT NULL,
	COMBUSTIVEL VARCHAR(20) CHECK(COMBUSTIVEL IN ('GASOLINA', 'ETANOL',
	'DIESEL', 'GNV', 'ELETRICO')),
	PRECO NUMERIC(10, 2) CHECK(PRECO > 0),
	CAMBIO VARCHAR(10) CHECK(CAMBIO IN('MANUAL', 'AUTOMATICO'))
);
	
	CREATE SEQUENCE SEQ_CLI INCREMENT 10 START 0;
	CREATE TABLE CLIENTE(
	ID_CLI INT PRIMARY KEY DEFAULT NEXTVAL('SEQ_CLI') NOT NULL,
	NOME VARCHAR(100) NOT NULL,
	TELEFONE VARCHAR(11) NOT NULL,
	CPF VARCHAR(11) NOT NULL UNIQUE,
	ENDERECO VARCHAR(150) NOT NULL,
	DATA_NASC DATE NOT NULL
	);
	
	CREATE TABLE VENDEDOR(
	MATRICULA SERIAL PRIMARY KEY,
	NOME VARCHAR(50) NOT NULL
);
	
CREATE TABLE VENDA (
	ID_VENDA SERIAL PRIMARY KEY,
	ID_VEIC INT NOT NULL REFERENCES VEICULO(ID_VEIC),
	ID_CLI INT NOT NULL REFERENCES CLIENTE(ID_CLI),
	DATA_VENDA DATE NOT NULL DEFAULT CURRENT_DATE,
	MAT_VENDEDOR INT NOT NULL REFERENCES VENDEDOR(MATRICULA)
);
	
CREATE TABLE ITEM_VENDA(
	ID_ITEM SERIAL PRIMARY KEY,
	ID_VEIC INT NOT NULL REFERENCES VEICULO(ID_VEIC),
	ID_VENDA INT NOT NULL REFERENCES VENDA(ID_VENDA),
	QTD INT NOT NULL
);
	
INSERT INTO VEICULO(MODELO, MARCA, ANO, COMBUSTIVEL, PRECO, CAMBIO)
VALUES ('GOLF', 'VOLKSWAGEN', '2015', 'GNV', 32750.00, 'MANUAL'), 
('TIGUAN', 'VOLKSWAGEN', 2022, 'GASOLINA', 12500.00, 'AUTOMATICO'),
('CG-150', 'HONDA', 2023, 'GASOLINA', 16570.00, 'MANUAL'),
('CHAYENE', 'PORSCHE', 2024, 'GASOLINA', 335000.00, 'AUTOMATICO'),
('UNO', 'FIAT', 2009, 'GASOLINA', 25000.00, 'MANUAL'),
('OPALA', 'CHEVROLET', 1988, 'GASOLINA', 42900.00, 'MANUAL');
SELECT * FROM VEICULO;
	
	
INSERT INTO CLIENTE (NOME, TELEFONE, CPF, ENDERECO, DATA_NASC)
VALUES('OSMAR', '4883248238', '12345678910', 'RUA DO LIMOEIRO, 49 - KOBRASOL', '17/06/1964'),
('MARIA ORLINDA', '4821939113', '12345678911', 'AV 15 DE NOVEMBRO, 116 - CAPOEIRAS', '02/11/1970'),
('ARIVALDO', '4994929445', '21410432044', 'RUA JOÃO PESSOA, 32 - FAZENDA', '28/01/1953'),
('OSMARINA', '48322441965', '49294129149','RUA D. PREDRO I, 419 - KOBRASOL','14/05/1970');
SELECT * FROM CLIENTE
	
	
INSERT INTO VENDEDOR (NOME) VALUES ('LUIZ'), ('CLAUDIO'), ('ARLETE'), ('LUIZA');
SELECT * FROM VENDEDOR
	
INSERT INTO VENDA (ID_CLI, MAT_VENDEDOR)
VALUES (1010, 4);
SELECT * FROM VENDA;

SELECT * FROM VEICULO;

INSERT INTO ITEM_VENDA (ID_VEIC, ID_VENDA, QTD)
VALUES (5, 1, 1)
SELECT * FROM ITEM_VENDA;

SELECT NOME, CPF, DATA_NASC FROM CLIENTE
WHERE NOME LIKE 'ARIVALDO'


SELECT NOME, CPF, DATA_NASC FROM CLIENTE
WHERE NOME LIKE 'O%'

SELECT NOME, CPF, DATA_NASC FROM CLIENTE
WHERE NOME LIKE '%IN%';

	
	CREATE TABLE VEICULO(
	ID_VEIC SERIAL PRIMARY KEY,
	MODELO VARCHAR(50) NOT NULL,
	MARCA VARCHAR(20) NOT NULL,
	ANO INT NOT NULL,
	COMBUSTIVEL VARCHAR(20) CHECK(COMBUSTIVEL IN ('GASOLINA', 'ETANOL',
	'DIESEL', 'GNV', 'ELETRICO')),
	PRECO NUMERIC(10, 2) CHECK(PRECO > 0),
	CAMBIO VARCHAR(10) CHECK(CAMBIO IN('MANUAL', 'AUTOMATICO'))
);
	
	CREATE SEQUENCE SEQ_CLI INCREMENT 10 START 0;
	CREATE TABLE CLIENTE(
	ID_CLI INT PRIMARY KEY DEFAULT NEXTVAL('SEQ_CLI') NOT NULL,
	NOME VARCHAR(100) NOT NULL,
	TELEFONE VARCHAR(11) NOT NULL,
	CPF VARCHAR(11) NOT NULL UNIQUE,
	ENDERECO VARCHAR(150) NOT NULL,
	DATA_NASC DATE NOT NULL
	);
	
	CREATE TABLE VENDEDOR(
	MATRICULA SERIAL PRIMARY KEY,
	NOME VARCHAR(50) NOT NULL
);
	
CREATE TABLE VENDA (
	ID_VENDA SERIAL PRIMARY KEY,
	ID_VEIC INT NOT NULL REFERENCES VEICULO(ID_VEIC),
	ID_CLI INT NOT NULL REFERENCES CLIENTE(ID_CLI),
	DATA_VENDA DATE NOT NULL DEFAULT CURRENT_DATE,
	MAT_VENDEDOR INT NOT NULL REFERENCES VENDEDOR(MATRICULA)
);
	
CREATE TABLE ITEM_VENDA(
	ID_ITEM SERIAL PRIMARY KEY,
	ID_VEIC INT NOT NULL REFERENCES VEICULO(ID_VEIC),
	ID_VENDA INT NOT NULL REFERENCES VENDA(ID_VENDA),
	QTD INT NOT NULL
);
	
INSERT INTO VEICULO(MODELO, MARCA, ANO, COMBUSTIVEL, PRECO, CAMBIO)
VALUES ('GOLF', 'VOLKSWAGEN', '2015', 'GNV', 32750.00, 'MANUAL'), 
('TIGUAN', 'VOLKSWAGEN', 2022, 'GASOLINA', 12500.00, 'AUTOMATICO'),
('CG-150', 'HONDA', 2023, 'GASOLINA', 16570.00, 'MANUAL'),
('CHAYENE', 'PORSCHE', 2024, 'GASOLINA', 335000.00, 'AUTOMATICO'),
('UNO', 'FIAT', 2009, 'GASOLINA', 25000.00, 'MANUAL'),
('OPALA', 'CHEVROLET', 1988, 'GASOLINA', 42900.00, 'MANUAL');
SELECT * FROM VEICULO;
	
	
INSERT INTO CLIENTE (NOME, TELEFONE, CPF, ENDERECO, DATA_NASC)
VALUES('OSMAR', '4883248238', '12345678910', 'RUA DO LIMOEIRO, 49 - KOBRASOL', '17/06/1964'),
('MARIA ORLINDA', '4821939113', '12345678911', 'AV 15 DE NOVEMBRO, 116 - CAPOEIRAS', '02/11/1970'),
('ARIVALDO', '4994929445', '21410432044', 'RUA JOÃO PESSOA, 32 - FAZENDA', '28/01/1953'),
('OSMARINA', '48322441965', '49294129149','RUA D. PREDRO I, 419 - KOBRASOL','14/05/1970');
SELECT * FROM CLIENTE
	
	
INSERT INTO VENDEDOR (NOME) VALUES ('LUIZ'), ('CLAUDIO'), ('ARLETE'), ('LUIZA');
SELECT * FROM VENDEDOR
	
INSERT INTO VENDA (ID_CLI, MAT_VENDENDOR)
VALUES (1010, 4);
SELECT * FROM VENDA;

SELECT * FROM VEICULO;

INSERT INTO ITEM_VENDA (ID_VEIC, ID_VENDA, QTD)
VALUES (5, 1, 1)
SELECT * FROM ITEM_VENDA;

SELECT NOME, CPF, DATA_NASC FROM CLIENTE
WHERE NOME LIKE 'ARIVALDO'


SELECT NOME, CPF, DATA_NASC FROM CLIENTE
WHERE NOME LIKE '%AR%'

ORDER BY NOME

SELECT NOME, CPF, DATA_NASC, ENDERECO, TELEFONE FROM CLIENTE
WHERE NOME LIKE 'A%'
ORDER BY NOME, CPF, DATA_NASC, ENDERECO, TELEFONE

SELECT * FROM VEICULO;
INSERT INTO ITEM_VEICULO (ID_VEIC, ID_VENDA, QTD)
VALUE (7,1,1);

SELECT (2025 - EXTRACT(YEAR FROM DATA_NASC)) FROM CLIENTE
ORDER BY DATA_NASC 

SELECT NOME, (EXTRACT(YEAR FROM CURRENT_DATE) - EXTRACT(YEAR FROM DATA_NASC)) AS IDADE FROM CLIENTE
ORDER BY NOME ASC

CREATE VIEW CALCULA_IDADE AS 
--SELECT NOME, (EXTRACT(YEAR FROM CURRENT_DATE) - EXTRACT(YEAR FROM DATA_NASC)) AS IDADE FROM CLIENTE
SELECT MAX (IDADE), NOME FROM CALCULA_IDADE
GROUP BY NOME

SELECT * FROM CALCULA_IDADE

SELECT * FROM CALCULA_IDADE 
ORDER BY NOME DESC, IDADE DESC

SELECT * FROM CALCULA_IDADE 
WHERE IDADE < 57 AND IDADE > 50
ORDER BY IDADE;

SELECT V.ID_VENDA, V.ID_CLI, V.DATA_VENDA, I.ID_VEIC, I.QTD, VC.PRECO
FROM VENDA V, ITEM_VENDA I, VEICULO VC
WHERE V.ID_VENDA = I.ID_VENDA
AND I.ID_VEIC = VC.ID_VEIC;

SELECT * FROM ITEM_VENDA
